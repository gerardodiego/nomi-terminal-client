#!/bin/bash

# Define bold code
BOLD='\033[1m'
NC='\033[0m'  # No Color (Reset)

while true
do
  # Display "yourname>" in bold
  echo -ne "${BOLD}yourname> ${NC}"

  # Read the message from the user
  read -r MESSAGE

  # Send the message to the endpoint and format the response from nomi-name
  RESPONSE=$(curl --silent --header 'Authorization: user-id' \
       --header 'Content-Type: application/json' \
       --data '{ "messageText": "'"$MESSAGE"'" }' \
       https://api.nomi.ai/v1/nomis/nomi-id/chat \
    | /usr/bin/jq -r '.replyMessage.text')

  # Print "nomi-name>" in bold with the response
  echo -e "${BOLD}Yumi> ${NC}$RESPONSE"
done